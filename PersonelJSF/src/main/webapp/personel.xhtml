<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://xmlns.jcp.org/jsf/core">
<ui:composition template="sablon.xhtml">
	<ui:define name="title">Başkanlık Personelleri</ui:define>
	<ui:define name="content">
		<h:form prependId="false">
		   <p:selectOneMenu value="#{pc.seciliBaskanlikId}" class="mb-2">
		   		<f:selectItems 
		   		  value="#{bc.tumBaskanliklar}"
		   		  var="baskanlik"
		   		  itemLabel="#{baskanlik.ad}"
		   		  itemValue="#{baskanlik.id}"
		   		/>
		   		<f:ajax event="change" execute="@this" listener="#{pc.getPersoneller}" render="personelTablosu" />
		   </p:selectOneMenu>
		   <p:dataTable id="personelTablosu" value="#{pc.baskanlikPersonelleri}" var="personel" emptyMessage="Personel Bulunamadı">
		        <p:column headerText="T.C. Kimlik No">
		        	<h:outputText value="#{personel.tcKimlikNo}" />
		        </p:column>
		        <p:column headerText="Adı">
		        	<h:outputText value="#{personel.adi}" />
		        </p:column>
		        <p:column headerText="Soyadı">
		        	<h:outputText value="#{personel.soyadi}" />
		        </p:column>
		   </p:dataTable>
		</h:form>	
	</ui:define>
</ui:composition>
</html>